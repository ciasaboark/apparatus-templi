<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="css/index.css">
<script>
    $portnum = "blah";
</script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script>
     $( document ).ready(function() {
        getRunningDrivers();  
     }
    function getRunningDrivers() {
        $.ajax({
                  type: "GET",
                  url: "http://localhost:2024/get_running_drivers",
                  dataType: "xml",
                  async: false,
                  contentType: "text/xml; charset=\"utf-8\"",
                  success: function(xml) {
                      $(xml).find('Module').each(function() {
                            var $module = $(this);
                            var name = $module.attr('name');
                            document.getElementById("xml").innerHTML += name;
                        })
                    },
                    error: function(xhr, status, error) {
                        if (xhr.status != 404) {
                            alert(error);
                        } 
                        else {
                            alert("404 xml not found");
                        }
                    }
            });
     });
    }
    </script>
    
<title>Home Automation</title>
</head>

<body>
	<div class="header">
    	<div id="header_content">
            <div id="logo"><h1>Home Automation</h1></div>
            <div id="header_bar">
                <button class="minimal-indent">Link 1</button>
                <button class="minimal-indent">Link 2</button>
                <button class="minimal-indent">Link 3</button>
                <button class="minimal-indent">Link 4</button>
                <button class="minimal-indent">Link 5</button>
            </div>
        </div>
    </div>
     <div class="RunningDrivers">
        <div id="driver_list">
            <p>We could have the XML data returned form the server automatically populate this list</p>
            <ul>
                <li>Driver Name 1</li>
                <li>Driver Name 2</li>
                <li>Driver Name 3</li>
                <li>Driver Name 4</li>
                <li>Driver Name 5</li>
            </ul>
        </div>
    </div>
</body>
</html>
