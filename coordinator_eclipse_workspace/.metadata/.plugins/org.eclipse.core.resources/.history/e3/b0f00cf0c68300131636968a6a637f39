package org.apparatus_templi;

public class LedFlash extends Coordinator implements ControlerModule, Runnable {
	private String moduleName = "LED_FLASH";
	
	@Override
	public String getModuleType() {
		return "Controler";
	}

	@Override
	public String getModuleName() {
		return moduleName;
	}

	/*
	 * Since every driver is exited to have intimate knowledge of
	 * the remote module that it corresponds with this can be a hard
	 * coded XML response.
	 */
	@Override
	public String getControlerList() {
		return new String(	"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n" +
							"<controlerList>" +
								"<controler>" +
									"<name>LED 1</name>" +
								"</controler>" +
								"<controler>" +
									"<name>LED 2</name>" +
								"</controler>" +
								"<controler>" +
									"<name>LED 1</name>" +
								"</controler>" +
							"</controlerList>");
						
	}

	/*
	 * This method will be called by the Coordinator on behalf
	 * of the front-ends.  It is up to you do validate the incoming
	 * controllerName and command (if desired).  In this case we will
	 * switch based off the controllerName.  Since the only thing that
	 * this driver does is flash the LED we do not even have to check the
	 * command.
	 */
	@Override
	public void tellController(String controllerName, String command) {
		switch (controllerName) {
			case "LED 1":
				super.sendCommand(moduleName, "4");
				break;
			case "LED 2":
				super.sendCommand(moduleName, "5");
				break;
			case "LED 3":
				super.sendCommand(moduleName, "6");
				break;
			default:
				super.logMessage(moduleName, "tellController() Given invalid LED name");
				break;
		}
	}

	/*
	 * Our starting point of execution for this driver.
	 * This simply runs a loop sending commands to flash LEDs attached to
	 * different pins.  The driver does not care about responses from the
	 * remote module, so receiveMessage() is left unimplemented.
	 * 
	 * The startup procedure is very simple, ask the Coordinator if the 
	 */
	@Override
	public void run() {
		// TODO Auto-generated method stub
		
	}

	@Override
	public void receiveMessage(String message) {
		// TODO Auto-generated method stub
		
	}

}
